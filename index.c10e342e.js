const t=document.querySelector("[data-menu-button]"),s=document.querySelector("[data-menu]"),e=document.querySelector("body");t.addEventListener("click",(()=>{const i="true"===t.getAttribute("aria-expanded")||!1;t.classList.toggle("is-open"),t.setAttribute("aria-expanded",!i),s.classList.toggle("is-open"),e.classList.toggle("no-scroll")}));(
/**
 * @class ItcSlider
 * @version 1.0.0
 * @author https://github.com/itchief
 * @copyright Alexander Maltsev 2020 - 2023
 * @license MIT (https://github.com/itchief/ui-components/blob/master/LICENSE)
 * @tutorial https://itchief.ru/javascript/slider
 */
class{static#t="wrapper";static#s="items";static#e="item";static#i="item_active";static#a="indicator";static#n="indicator_active";static#r="btn_prev";static#h="btn_next";static#o="btn_hide";static#c="transition-none";static#l=[];#d;#u;constructor(t,s={},e="itc-slider__"){this.#u={prefix:e,el:t,elWrapper:t.querySelector(`.${e}${this.constructor.#t}`),elItems:t.querySelector(`.${e}${this.constructor.#s}`),elListItem:t.querySelectorAll(`.${e}${this.constructor.#e}`),btnPrev:t.querySelector(`.${e}${this.constructor.#r}`),btnNext:t.querySelector(`.${e}${this.constructor.#h}`),btnClassHide:e+this.constructor.#o,exOrderMin:0,exOrderMax:0,exItemMin:null,exItemMax:null,exTranslateMin:0,exTranslateMax:0,direction:"next",intervalId:null,isSwiping:!1,swipeX:0},this.#d={loop:!0,autoplay:!1,interval:5e3,refresh:!0,swipe:!0,...s},this.#p(),this.#m()}static getInstance(t){const s=this.#l.find((s=>s.target===t));return s?s.instance:null}static getOrCreateInstance(t,s={},e="itc-slider__"){try{const i="string"==typeof t?document.querySelector(t):t,a=this.getInstance(i);if(a)return a;const n=new this(i,s,e);return this.#l.push({target:i,instance:n}),n}catch(t){console.error(t)}}static createInstances(){document.querySelectorAll('[data-slider="itc-slider"]').forEach((t=>{const{dataset:s}=t,e={};Object.keys(s).forEach((t=>{if("slider"===t)return;let i=s[t];i="true"===i||i,i="false"!==i&&i,i=Number.isNaN(Number(i))?Number(i):i,e[t]=i})),this.getOrCreateInstance(t,e)}))}next(){this.#u.direction="next",this.#I()}prev(){this.#u.direction="prev",this.#I()}moveTo(t){this.#v(t)}reset(){this.#x()}dispose(){this.#g();const t=this.#u.prefix+this.constructor.#c,s=this.#u.prefix+this.constructor.#i;this.#f("stop"),this.#u.elItems.classList.add(t),this.#u.elItems.style.transform="",this.#u.elListItem.forEach((t=>{t.style.transform="",t.classList.remove(s)}));const e=`${this.#u.prefix}${this.constructor.#n}`;document.querySelectorAll(`.${e}`).forEach((t=>{t.classList.remove(e)})),this.#u.elItems.offsetHeight,this.#u.elItems.classList.remove(t);const i=this.constructor.#l.findIndex((t=>t.target===this.#u.el));this.constructor.#l.splice(i,1)}#E(t){if(!t.target.closest(".itc-slider__btn")&&!t.target.closest(".itc-slider__indicators"))return;t.preventDefault();const s=this.#u.prefix+this.constructor.#r,e=this.#u.prefix+this.constructor.#h;if(this.#f("stop"),t.target.closest(`.${s}`)||t.target.closest(`.${e}`))this.#u.direction=t.target.closest(`.${s}`)?"prev":"next",this.#I();else if(t.target.dataset.slideTo){const s=parseInt(t.target.dataset.slideTo,10);this.#v(s)}this.#d.loop&&this.#f()}#b(){this.#f("stop")}#T(){this.#f()}#_(){window.requestAnimationFrame(this.#x.bind(this))}#y(t){this.#f("stop");const s=0===t.type.search("touch")?t.touches[0]:t;this.#u.swipeX=s.clientX,this.#u.isSwiping=!0}#L(t){if(!this.#u.isSwiping)return;const s=0===t.type.search("touch")?t.changedTouches[0]:t,e=this.#u.swipeX-s.clientX;e>50?(this.#u.direction="next",this.#I()):e<-50&&(this.#u.direction="prev",this.#I()),this.#u.isSwiping=!1,this.#d.loop&&this.#f()}#w(){this.#u.isBalancing||(this.#u.isBalancing=!0,window.requestAnimationFrame(this.#M.bind(this)))}#C(){this.#u.isBalancing=!1}#S(t){t.preventDefault()}#N(){"hidden"===document.visibilityState?this.#f("stop"):"visible"===document.visibilityState&&this.#d.loop&&this.#f()}#m(){this.#u.events={click:[this.#u.el,this.#E.bind(this),!0],mouseenter:[this.#u.el,this.#b.bind(this),!0],mouseleave:[this.#u.el,this.#T.bind(this),!0],resize:[window,this.#_.bind(this),this.#d.refresh],"itc-slider__transition-start":[this.#u.elItems,this.#w.bind(this),this.#d.loop],transitionend:[this.#u.elItems,this.#C.bind(this),this.#d.loop],touchstart:[this.#u.el,this.#y.bind(this),this.#d.swipe],mousedown:[this.#u.el,this.#y.bind(this),this.#d.swipe],touchend:[document,this.#L.bind(this),this.#d.swipe],mouseup:[document,this.#L.bind(this),this.#d.swipe],dragstart:[this.#u.el,this.#S.bind(this),!0],visibilitychange:[document,this.#N.bind(this),!0]},Object.keys(this.#u.events).forEach((t=>{if(this.#u.events[t][2]){const s=this.#u.events[t][0],e=this.#u.events[t][1];s.addEventListener(t,e)}}))}#g(){Object.keys(this.#u.events).forEach((t=>{if(this.#u.events[t][2]){const s=this.#u.events[t][0],e=this.#u.events[t][1];s.removeEventListener(t,e)}}))}#f(t){if(this.#d.autoplay)return"stop"===t?(clearInterval(this.#u.intervalId),void(this.#u.intervalId=null)):void(null===this.#u.intervalId&&(this.#u.intervalId=setInterval((()=>{this.#u.direction="next",this.#I()}),this.#d.interval)))}#M(){if(!this.#u.isBalancing)return;const t=this.#u.elWrapper.getBoundingClientRect(),s=t.width/this.#u.countActiveItems/2,e=this.#u.elListItem.length;if("next"===this.#u.direction){if(this.#u.exItemMin.getBoundingClientRect().right<t.left-s){const t=this.#u.els.find((t=>t.el===this.#u.exItemMin));t.order=this.#u.exOrderMin+e;const s=this.#u.exTranslateMin+e*this.#u.width;t.translate=s,this.#u.exItemMin.style.transform=`translate3D(${s}px, 0px, 0.1px)`,this.#A()}}else{if(this.#u.exItemMax.getBoundingClientRect().left>t.right+s){const t=this.#u.els.find((t=>t.el===this.#u.exItemMax));t.order=this.#u.exOrderMax-e;const s=this.#u.exTranslateMax-e*this.#u.width;t.translate=s,this.#u.exItemMax.style.transform=`translate3D(${s}px, 0px, 0.1px)`,this.#A()}}window.requestAnimationFrame(this.#M.bind(this))}#O(){const t=this.#u.prefix+this.constructor.#i;this.#u.activeItems.forEach(((s,e)=>{s?this.#u.elListItem[e].classList.add(t):this.#u.elListItem[e].classList.remove(t);const i=this.#u.el.querySelectorAll(`.${this.#u.prefix}${this.constructor.#a}`);i.length&&s?i[e].classList.add(`${this.#u.prefix}${this.constructor.#n}`):i.length&&!s&&i[e].classList.remove(`${this.#u.prefix}${this.constructor.#n}`)}))}#I(){const t="next"===this.#u.direction?-this.#u.width:this.#u.width,s=this.#u.translate+t;if(!this.#d.loop){const t=this.#u.width*(this.#u.elListItem.length-this.#u.countActiveItems);if(s<-t||s>0)return;this.#u.btnPrev&&(this.#u.btnPrev.classList.remove(this.#u.btnClassHide),this.#u.btnNext.classList.remove(this.#u.btnClassHide)),this.#u.btnPrev&&s===-t?this.#u.btnNext.classList.add(this.#u.btnClassHide):this.#u.btnPrev&&0===s&&this.#u.btnPrev.classList.add(this.#u.btnClassHide)}"next"===this.#u.direction?this.#u.activeItems=[...this.#u.activeItems.slice(-1),...this.#u.activeItems.slice(0,-1)]:this.#u.activeItems=[...this.#u.activeItems.slice(1),...this.#u.activeItems.slice(0,1)],this.#O(),this.#u.translate=s,this.#u.elItems.style.transform=`translate3D(${s}px, 0px, 0.1px)`,this.#u.elItems.dispatchEvent(new CustomEvent("itc-slider__transition-start",{bubbles:!0}))}#v(t){const s=this.#u.activeItems.reduce(((s,e,i)=>{const a=e?t-i:s;return Math.abs(a)<Math.abs(s)?a:s}),this.#u.activeItems.length);if(0!==s){this.#u.direction=s>0?"next":"prev";for(let t=0;t<Math.abs(s);t++)this.#I()}}#p(){this.#u.els=[],this.#u.translate=0,this.#u.activeItems=[],this.#u.isBalancing=!1;const t=parseFloat(getComputedStyle(this.#u.elItems).gap)||0;this.#u.width=this.#u.elListItem[0].getBoundingClientRect().width+t;const s=this.#u.elWrapper.getBoundingClientRect().width;if(this.#u.countActiveItems=Math.round(s/this.#u.width),this.#u.elListItem.forEach(((t,s)=>{t.style.transform="",this.#u.activeItems.push(s<this.#u.countActiveItems?1:0),this.#u.els.push({el:t,index:s,order:s,translate:0})})),this.#d.loop){const t=this.#u.elListItem.length-1,s=-(t+1)*this.#u.width;this.#u.elListItem[t].style.transform=`translate3D(${s}px, 0px, 0.1px)`,this.#u.els[t].order=-1,this.#u.els[t].translate=s,this.#A()}else this.#u.btnPrev&&this.#u.btnPrev.classList.add(this.#u.btnClassHide);this.#O(),this.#f()}#x(){const t=this.#u.prefix+this.constructor.#c,s=parseFloat(getComputedStyle(this.#u.elItems).gap)||0,e=this.#u.elListItem[0].getBoundingClientRect().width+s,i=this.#u.elWrapper.getBoundingClientRect().width,a=Math.round(i/e);e===this.#u.width&&a===this.#u.countActiveItems||(this.#f("stop"),this.#u.elItems.classList.add(t),this.#u.elItems.style.transform="translate3D(0px, 0px, 0.1px)",this.#p(),window.requestAnimationFrame((()=>{this.#u.elItems.classList.remove(t)})))}#A(){const t=this.#u.els.map((t=>t.el)),s=this.#u.els.map((t=>t.order));this.#u.exOrderMin=Math.min(...s),this.#u.exOrderMax=Math.max(...s);const e=s.indexOf(this.#u.exOrderMin),i=s.indexOf(this.#u.exOrderMax);this.#u.exItemMin=t[e],this.#u.exItemMax=t[i],this.#u.exTranslateMin=this.#u.els[e].translate,this.#u.exTranslateMax=this.#u.els[i].translate}}).createInstances();
//# sourceMappingURL=index.c10e342e.js.map
